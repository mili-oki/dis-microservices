package com.example.dis.orders_service.messaging;

import com.example.dis.orders_service.messaging.PaymentResultEvent;
import org.junit.jupiter.api.Test;

import static org.assertj.core.api.Assertions.assertThatCode;

class PaymentResultListenerTest {

    @Test
    void onMessage_does_not_throw_for_valid_payload() {
        PaymentResultListener listener = new PaymentResultListener(); // ako ima dependencije, mock-uj i prosledi u ctor

        PaymentResultEvent evt = new PaymentResultEvent();
        evt.setOrderId(42L);
        evt.setStatus("SUCCESS");
        evt.setMessage("ok");

        assertThatCode(() -> listener.onMessage(evt)).doesNotThrowAnyException();
    }
}
